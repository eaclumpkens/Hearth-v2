{"ast":null,"code":"var _jsxFileName = \"/Users/eaclumpkens/Documents/Dev/Bootcamp/inclass/Projects/Hearth-v2/client/src/components/GoogleAuth/GoogleLogin/GoogleLogin.js\";\nimport React from 'react';\nimport \"./GoogleLogin.css\";\nimport API from \"../../../utils/API\";\nimport { GoogleLogin } from 'react-google-login'; // refresh token\n\nimport { refreshTokenSetup } from '../../../utils/refreshToken';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst clientId = \"702121191168-sbq7ipqbrji9t75h21spb87lkhnlh5g8.apps.googleusercontent.com\";\n\nfunction Login() {\n  const onSuccess = res => {\n    console.log('Login Success: currentUser:', res.profileObj); // alert(\n    //   `Logged in successfully welcome ${res.profileObj.name} 😍. \\n See console for full profile object.`\n    // );\n\n    refreshTokenSetup(res);\n    const newUser = {\n      name: res.profileObj.name,\n      image: res.profileObj.imageUrl,\n      _id: res.profileObj.googleId\n    };\n    var myUserEntity = {};\n    myUserEntity.Id = res.profileObj.googleId;\n    myUserEntity.Name = res.profileObj.name;\n    myUserEntity.Image = res.profileObj.imageUrl; //Store the entity object in sessionStorage where it will be accessible from all pages of your site.\n\n    sessionStorage.setItem('myUserEntity', JSON.stringify(myUserEntity)); // API.saveUser(newUser)\n    //   .then((res) => {\n    //     console.log(res)\n    //     console.log(\"user saved\")\n    //   }).catch(err => err)\n\n    window.location.replace(\"http://localhost:3000/dashboard\");\n  };\n\n  const onFailure = res => {\n    console.log('Login failed: res:', res);\n  }; //   const responseGoogle = (response) => {\n  //     console.log(response);\n  //   }\n  // ^^to look at full google signin object^^\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(GoogleLogin, {\n      clientId: clientId,\n      buttonText: \"Login\",\n      onSuccess: onSuccess,\n      onFailure: onFailure,\n      cookiePolicy: 'single_host_origin',\n      isSignedIn: true,\n      render: renderProps => /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"google-auth\",\n        className: \"google-login\",\n        onClick: renderProps.onClick,\n        disabled: renderProps.disabled,\n        children: \"Login with Google\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/eaclumpkens/Documents/Dev/Bootcamp/inclass/Projects/Hearth-v2/client/src/components/GoogleAuth/GoogleLogin/GoogleLogin.js"],"names":["React","API","GoogleLogin","refreshTokenSetup","clientId","Login","onSuccess","res","console","log","profileObj","newUser","name","image","imageUrl","_id","googleId","myUserEntity","Id","Name","Image","sessionStorage","setItem","JSON","stringify","window","location","replace","onFailure","renderProps","onClick","disabled"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,mBAAP;AACA,OAAOC,GAAP,MAAgB,oBAAhB;AACA,SAASC,WAAT,QAA4B,oBAA5B,C,CACA;;AACA,SAASC,iBAAT,QAAkC,6BAAlC;;AAEA,MAAMC,QAAQ,GACZ,0EADF;;AAGA,SAASC,KAAT,GAAiB;AACf,QAAMC,SAAS,GAAIC,GAAD,IAAS;AACzBC,IAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CF,GAAG,CAACG,UAA/C,EADyB,CAEzB;AACA;AACA;;AACAP,IAAAA,iBAAiB,CAACI,GAAD,CAAjB;AAEA,UAAMI,OAAO,GAAG;AACdC,MAAAA,IAAI,EAAEL,GAAG,CAACG,UAAJ,CAAeE,IADP;AAEdC,MAAAA,KAAK,EAAEN,GAAG,CAACG,UAAJ,CAAeI,QAFR;AAGdC,MAAAA,GAAG,EAAER,GAAG,CAACG,UAAJ,CAAeM;AAHN,KAAhB;AAKA,QAAIC,YAAY,GAAG,EAAnB;AACEA,IAAAA,YAAY,CAACC,EAAb,GAAkBX,GAAG,CAACG,UAAJ,CAAeM,QAAjC;AACAC,IAAAA,YAAY,CAACE,IAAb,GAAoBZ,GAAG,CAACG,UAAJ,CAAeE,IAAnC;AACAK,IAAAA,YAAY,CAACG,KAAb,GAAqBb,GAAG,CAACG,UAAJ,CAAeI,QAApC,CAfuB,CAiB3B;;AACEO,IAAAA,cAAc,CAACC,OAAf,CAAuB,cAAvB,EAAsCC,IAAI,CAACC,SAAL,CAAeP,YAAf,CAAtC,EAlByB,CAoBzB;AACA;AACA;AACA;AACA;;AACAQ,IAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,iCAAxB;AAED,GA3BD;;AA8BA,QAAMC,SAAS,GAAIrB,GAAD,IAAS;AACzBC,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCF,GAAlC;AACD,GAFD,CA/Be,CAmCjB;AACA;AACA;AACA;;;AAEE,sBACE;AAAA,2BACE,QAAC,WAAD;AACE,MAAA,QAAQ,EAAEH,QADZ;AAEE,MAAA,UAAU,EAAC,OAFb;AAGE,MAAA,SAAS,EAAEE,SAHb;AAIE,MAAA,SAAS,EAAEsB,SAJb;AAKE,MAAA,YAAY,EAAE,oBALhB;AAME,MAAA,UAAU,EAAE,IANd;AAOE,MAAA,MAAM,EAAEC,WAAW,iBACjB;AACE,QAAA,EAAE,EAAC,aADL;AAEE,QAAA,SAAS,EAAC,cAFZ;AAGE,QAAA,OAAO,EAAEA,WAAW,CAACC,OAHvB;AAIE,QAAA,QAAQ,EAAED,WAAW,CAACE,QAJxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AARJ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAqBD;;KA7DQ1B,K;AA+DT,eAAeA,KAAf","sourcesContent":["import React from 'react';\nimport \"./GoogleLogin.css\";\nimport API from \"../../../utils/API\";\nimport { GoogleLogin } from 'react-google-login';\n// refresh token\nimport { refreshTokenSetup } from '../../../utils/refreshToken';\n\nconst clientId =\n  \"702121191168-sbq7ipqbrji9t75h21spb87lkhnlh5g8.apps.googleusercontent.com\";\n\nfunction Login() {\n  const onSuccess = (res) => {\n    console.log('Login Success: currentUser:', res.profileObj);\n    // alert(\n    //   `Logged in successfully welcome ${res.profileObj.name} 😍. \\n See console for full profile object.`\n    // );\n    refreshTokenSetup(res);\n\n    const newUser = {\n      name: res.profileObj.name,\n      image: res.profileObj.imageUrl,\n      _id: res.profileObj.googleId\n    };\n    var myUserEntity = {};\n      myUserEntity.Id = res.profileObj.googleId;\n      myUserEntity.Name = res.profileObj.name;\n      myUserEntity.Image = res.profileObj.imageUrl;\n  \n  //Store the entity object in sessionStorage where it will be accessible from all pages of your site.\n    sessionStorage.setItem('myUserEntity',JSON.stringify(myUserEntity));\n\n    // API.saveUser(newUser)\n    //   .then((res) => {\n    //     console.log(res)\n    //     console.log(\"user saved\")\n    //   }).catch(err => err)\n    window.location.replace(\"http://localhost:3000/dashboard\");\n\n  };\n  \n\n  const onFailure = (res) => {\n    console.log('Login failed: res:', res);\n  };\n\n//   const responseGoogle = (response) => {\n//     console.log(response);\n//   }\n// ^^to look at full google signin object^^\n\n  return (\n    <div>\n      <GoogleLogin\n        clientId={clientId}\n        buttonText=\"Login\"\n        onSuccess={onSuccess}\n        onFailure={onFailure}\n        cookiePolicy={'single_host_origin'}\n        isSignedIn={true}\n        render={renderProps => (\n          <button  \n            id=\"google-auth\"\n            className=\"google-login\"\n            onClick={renderProps.onClick} \n            disabled={renderProps.disabled}>\n              Login with Google\n          </button>\n        )}\n      />\n    </div>\n  );\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}